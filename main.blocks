<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="H$pc0[b/-P|(c5sfF,ci">Activate</variable><variable id=",LfEXh}nSS08O{^f/RDO">Timer</variable><variable id="LGK*ohb(9{xRwK7,BrZm">Magnet</variable><variable id="lAD(KlkzC]HEMGJ]5+~c">Away</variable><variable id="J{.b8Jc~^rJ/pk!Cp]hp">Open</variable></variables><block type="pxt-on-start" id="]?Pp8pYUZe-m}V4e)N8i" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id="++RL2y-|,g/WPEZX0{mb"><field name="VAR" id="H$pc0[b/-P|(c5sfF,ci">Activate</field><comment pinned="false" h="80" w="160">Microbit are turned if when started</comment><value name="VALUE"><shadow type="math_number" id="I-IZ`r6CoAmAYi+ByvEX"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="SK;az*wKZ^|aX$!7yhsJ"><field name="VAR" id=",LfEXh}nSS08O{^f/RDO">Timer</field><comment pinned="false" h="80" w="160">Time starts at 0</comment><value name="VALUE"><shadow type="math_number" id="K!sM]4I??^]{4NNYNW9,"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="(K+wGRu7NN|uG(z}`k2@"><field name="VAR" id="LGK*ohb(9{xRwK7,BrZm">Magnet</field><comment pinned="false" h="80" w="160">Set noMagnet to Magnet strength</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">900</field></shadow><block type="device_get_magnetic_force" id="ex!V3N5_YBD2-nJ#:w*F"><field name="NAME">Dimension.Strength</field></block></value><next><block type="variables_set" id="PLXBsBpE8SSzl}WPY4H#"><field name="VAR" id="lAD(KlkzC]HEMGJ]5+~c">Away</field><comment pinned="false" h="80" w="160">The magnet would be set on later</comment><value name="VALUE"><shadow type="math_number" id="s*]am6fZv%3r`T0EfLjU"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="yG.?p)y~Rn2p{`t.SVes"><field name="VAR" id="J{.b8Jc~^rJ/pk!Cp]hp">Open</field><comment pinned="false" h="80" w="160">Number of times the door is open</comment><value name="VALUE"><shadow type="math_number" id="H[Im3C7rHE@8((DTyi6L"><field name="NUM">0</field></shadow></value><next><block type="synth_set_volume" id="_u#G?}oBtX:QdmV|wziG"><value name="volume"><shadow type="math_number_minmax" id="0+DHzn.n178HG!~XX#i$"><mutation min="0" max="255" label="Volume" precision="0"></mutation><field name="SLIDER">255</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="Udl*__o|h[]nryr*]7rj" x="572" y="0"><field name="NAME">Button.AB</field><comment pinned="false" h="80" w="160">A+B</comment><statement name="HANDLER"><block type="controls_if" id="hcN,[MzSf:7OP[}8+Tzr"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="G.!($)V(7Q!x(`,tMi?L"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="C!-_J$k/`+Ce$zTuI`r7"><field name="VAR" id="H$pc0[b/-P|(c5sfF,ci">Activate</field></block></value><value name="B"><shadow type="math_number" id="nJDv)W0Cg{k#)VPOI4{O"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="$WiX)4H[XbP_TTONL~ud"><field name="VAR" id=",LfEXh}nSS08O{^f/RDO">Timer</field><value name="VALUE"><shadow type="math_number" id="%|x:hl9Vl5SjM5C.5`5@"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="^!yxM$)(]/QuKok|q9q_"><field name="VAR" id="J{.b8Jc~^rJ/pk!Cp]hp">Open</field><value name="VALUE"><shadow type="math_number" id=":u.7[_FP+8!,9/l_tpl:"><field name="NUM">0</field></shadow></value></block></next></block></statement><next><block type="controls_if" id="cH:Zdu_|u{Q}dJ|H{?Yb"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">This part toggles the Microbit on and off</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=".7bG_[TD4cJ@iD3~:E6D"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="VZs,nVAvuo-6To(c1Ze|"><field name="VAR" id="H$pc0[b/-P|(c5sfF,ci">Activate</field></block></value><value name="B"><shadow type="math_number" id="cDpb,Q|eCyFR_g5W=i%v"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="J@?=n+:YlS~C5$Lo5NR~"><field name="VAR" id="lAD(KlkzC]HEMGJ]5+~c">Away</field><value name="VALUE"><shadow type="math_number" id="|+uH3jbaQLR}xig#/m$W"><field name="NUM">0</field></shadow></value><next><block type="device_show_number" id="yfPrr?#N/BpplU@J4[Wa"><value name="number"><shadow type="math_number" id="Lt2Lb$je/:Ae.lH1F5x@"><field name="NUM">0</field></shadow></value></block></next></block></statement><statement name="ELSE"><block type="device_show_number" id="GL0RZ#d.K2yx6j%utrlO"><value name="number"><shadow type="math_number" id="h@:,`vWMp`1AUbIs1(:1"><field name="NUM">1</field></shadow></value></block></statement><next><block type="device_pause" id="RH}sgXAAcz-}f65w-q+-"><value name="pause"><shadow type="timePicker" id="*0rS/ma?K25LV;[D%KV0"><field name="ms">1000</field></shadow></value><next><block type="device_clear_display" id="S:X`K|tBg]nj{`N^ycSD"><comment pinned="false" h="80" w="160">Clear screen to allow the number to show properly</comment><next><block type="controls_if" id="[?![g}Tvmr!FE$Dy_h;f"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="]HDAKplYsUg5S}dc}.@T"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="PDj6xjQQXP8vcoFo$K5X"><field name="VAR" id="H$pc0[b/-P|(c5sfF,ci">Activate</field></block></value><value name="B"><shadow type="math_number" id="y(~9S!S_+1C0}j2j9PMv"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="I2`tDV[5S%R-9!C9YU*2"><field name="VAR" id="H$pc0[b/-P|(c5sfF,ci">Activate</field><value name="VALUE"><shadow type="math_number" id=".xxZ4%E=M(N:@tGZg%S8"><field name="NUM">0</field></shadow></value></block></statement><statement name="ELSE"><block type="variables_set" id="U8X(E_KGm`vUASC.Ue^3"><field name="VAR" id="H$pc0[b/-P|(c5sfF,ci">Activate</field><value name="VALUE"><shadow type="math_number" id="@IHSs-RRIMZ4P8]~+@i?"><field name="NUM">1</field></shadow></value></block></statement></block></next></block></next></block></next></block></next></block></statement></block><block type="device_button_event" id="`qyhk!u~1^X}liEIG}bn" x="0" y="733"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="controls_if" id="z:$(KpQW|FUn_]/%fzU7"><comment pinned="false" h="80" w="160">Only show number if the magnet sensor is turned off</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=")u44nk6,1du{4hkK~N5!"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="|%Zg9%!/U[.o+qDZn!cn"><field name="VAR" id="H$pc0[b/-P|(c5sfF,ci">Activate</field></block></value><value name="B"><shadow type="math_number" id="!PG(;7~a~m7Pr9Zp[D[S"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="device_show_number" id=";86tHu@B1F8bhNSOVE=Y"><comment pinned="false" h="80" w="160">Show the number of seconds counted by the Microbit</comment><value name="number"><block type="variables_get" id="K~r4U`wSB$V^,Z4otZc3"><field name="VAR" id=",LfEXh}nSS08O{^f/RDO">Timer</field></block></value></block></statement></block></statement></block><block type="device_button_event" id="fIf@UH:i(0]3U_/Mwk.Q" x="442" y="733"><field name="NAME">Button.B</field><statement name="HANDLER"><block type="controls_if" id="HE=R:|@8%lX#qVZLr9ps"><comment pinned="false" h="80" w="160">Only show number if the magnet sensor is turned off</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Bao/14iTX+T=7ec6X-W+"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="0]fw0ZHomqOmIxFTK};a"><field name="VAR" id="H$pc0[b/-P|(c5sfF,ci">Activate</field></block></value><value name="B"><shadow type="math_number" id="c=}=UF?DdPh-}FF0*Oqu"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="device_show_number" id="[1Cmp0::IILN6k-zZ?MA"><comment pinned="false" h="80" w="160">Show the number of times the Microbit have separated from the magnet.</comment><value name="number"><block type="variables_get" id="0Oab(2ZEAxt|3O]AD.bw"><field name="VAR" id="J{.b8Jc~^rJ/pk!Cp]hp">Open</field></block></value></block></statement></block></statement></block><block type="variables_change" id="IZpq`wcF^Xb7,`57+b,5" disabled="true" x="351" y="968"><field name="VAR" id="J{.b8Jc~^rJ/pk!Cp]hp">Open</field><value name="VALUE"><shadow type="math_number" id=",/xOTaNhGro1U6j6,q`]" disabled="true"><field name="NUM">1</field></shadow></value></block><block type="device_forever" id="1Ah-R=IRYaNYNT1zi[j?" x="0" y="994"><comment pinned="false" h="80" w="160">Main Script</comment><statement name="HANDLER"><block type="controls_if" id="?tb0iM~S)Nb][/:2v9E%"><comment pinned="false" h="80" w="160">The following code would only work when the variable "Activate" is on (1), this is activated when A+B is Pressed. This part senses the magnet strength.</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="[HI_RFJre;CgV7*0hb[@"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="2BO5/pYOcrg*#4w4$fLs"><field name="VAR" id="H$pc0[b/-P|(c5sfF,ci">Activate</field></block></value><value name="B"><shadow type="math_number" id="AjI,EzbEXUA16kbDlAsN"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="controls_if" id="?af:aWx5Bcj*,=R-W[,3"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">If the magnet strength is stronger than the magnet strength during recalibration, do nothing, else start a one second timer</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="rrK]L~_89]aV0*.`PBuE"><field name="OP">GT</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_get_magnetic_force" id="ND^ZMNy+#+bJ(zj;`L6*"><field name="NAME">Dimension.Strength</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">1200</field></shadow><block type="variables_get" id=";SB[!ear-IVRV;5c#3l#"><field name="VAR" id="LGK*ohb(9{xRwK7,BrZm">Magnet</field></block></value></block></value><statement name="DO0"><block type="basic_show_icon" id="ba{;nj-2?dt062[Vf|QX"><field name="i">IconNames.Happy</field><next><block type="variables_set" id="r:yHTkCh]q]4?WYzyl=D"><field name="VAR" id="lAD(KlkzC]HEMGJ]5+~c">Away</field><value name="VALUE"><shadow type="math_number" id="P43Jz1XY}`tqc]++6K5}"><field name="NUM">0</field></shadow></value></block></next></block></statement><statement name="ELSE"><block type="basic_show_icon" id="yn_{B79v!R[HHGOODuh%"><field name="i">IconNames.Angry</field><next><block type="variables_set" id="TSQ-gj{g$AY-Jw_L].pt"><field name="VAR" id="lAD(KlkzC]HEMGJ]5+~c">Away</field><value name="VALUE"><shadow type="math_number" id="JzWi!O~+RW*iY2!?y}uF"><field name="NUM">1</field></shadow></value></block></next></block></statement></block></statement></block></statement></block><block type="device_forever" id="b/E2It(=nKqjL=!,@i9)" x="0" y="1563"><statement name="HANDLER"><block type="controls_if" id="g1aaXlSjz.3WW!!UZc?="><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="{ZV_I)MJ|B/Y8Jgj2q]3"><field name="OP">EQ</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get" id="RIY?fGvd5g^#Lh6Cvow0"><field name="VAR" id="lAD(KlkzC]HEMGJ]5+~c">Away</field></block></value><value name="B"><shadow type="math_number" id="$qd/+i|O8Q}OG-7}Qyhu"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="soundExpression_playSoundEffect" id="i:%N)A:dOOzzmMn4H9]U"><field name="mode">SoundExpressionPlayMode.UntilDone</field><value name="sound"><shadow type="soundExpression_createSoundEffect" id="G!**J[c{BJQ9M**uS}0D" inline="true"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="waveShape">WaveShape.Sine</field><field name="effect">SoundExpressionEffect.None</field><field name="interpolation">InterpolationCurve.Linear</field><value name="startFrequency"><shadow type="math_number_minmax" id="_Rfm92`6zA}y_VURZx{z"><mutation min="0" max="5000" label="StartFrequency" precision="0"></mutation><field name="SLIDER">5000</field></shadow></value><value name="endFrequency"><shadow type="math_number_minmax" id="x$KJt#8]sA!y70}#kOEY"><mutation min="0" max="5000" label="EndFrequency" precision="0"></mutation><field name="SLIDER">0</field></shadow></value><value name="duration"><shadow type="math_number_minmax" id="DC`Aq;Ai:`Dj?NL,%GY?"><mutation min="1" max="9999" label="Duration" precision="0"></mutation><field name="SLIDER">500</field></shadow></value><value name="startVolume"><shadow type="math_number_minmax" id="6PonC5ZL{s[.+pj}}V.1"><mutation min="0" max="255" label="StartVolume" precision="0"></mutation><field name="SLIDER">255</field></shadow></value><value name="endVolume"><shadow type="math_number_minmax" id="f7f}!exk/0|~FBMvDu.I"><mutation min="0" max="255" label="EndVolume" precision="0"></mutation><field name="SLIDER">0</field></shadow></value></shadow></value></block></statement></block></statement></block><block type="device_forever" id="`AO/ekvo-,dR0ZZ_gr5j" x="552" y="1572"><statement name="HANDLER"><block type="controls_if" id="}MBV5I.k8z(K$Bp}vLKJ"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="[GrN.azkdhbRRe{wps`X"><field name="OP">EQ</field><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="variables_get" id=".{IO$w)c4^1lYfNcG+f,"><field name="VAR" id="lAD(KlkzC]HEMGJ]5+~c">Away</field></block></value><value name="B"><shadow type="math_number" id="T7QatND_x0sX-lRJ8]t9"><field name="NUM">1</field></shadow></value></block></value><statement name="DO0"><block type="device_pause" id=":$khK|#tj0`MJo01_w,`"><value name="pause"><shadow type="timePicker" id="Z5Y/-uT4loX?^B[4C#%b"><field name="ms">1000</field></shadow></value><next><block type="variables_change" id="*xf(WAArX^i|1e,Io#[p"><field name="VAR" id=",LfEXh}nSS08O{^f/RDO">Timer</field><comment pinned="false" h="80" w="160">Timer starts</comment><value name="VALUE"><shadow type="math_number" id="/V`d4;rmNq2=|ff%.fdo"><field name="NUM">1</field></shadow></value></block></next></block></statement></block></statement></block><block type="input_logo_event" id="29`~)6#bHo/rhvjXRw)t" x="0" y="1872"><field name="action">TouchButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if" id="(jU.G:YY%YB7tUoxB]WF"><comment pinned="false" h="80" w="160">Only recalibrate if the magnet sensor is turned off</comment><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="/!^|_!C(BTc}U[mh9Zz?"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="rLNSyj0xVhO$)@v-k)Gg"><field name="VAR" id="H$pc0[b/-P|(c5sfF,ci">Activate</field></block></value><value name="B"><shadow type="math_number" id="RYi4$iE#l40edVvywnsY"><field name="NUM">0</field></shadow></value></block></value><statement name="DO0"><block type="variables_set" id="eA%?PccdrSr*/+MRz3aY"><field name="VAR" id="LGK*ohb(9{xRwK7,BrZm">Magnet</field><comment pinned="false" h="80" w="160">Recalibrate magnet to natural magnetic wave</comment><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="I$LzLw:;RS,W_Q/^SjpJ"><field name="OP">ADD</field><comment pinned="false" h="80" w="160">Prevent error due to slight magnet fluctuation</comment><value name="A"><shadow type="math_number" disabled="true"><field name="NUM">0</field></shadow><block type="device_get_magnetic_force" id="1Xd,9T17}5$uM]jofBiz"><field name="NAME">Dimension.Strength</field></block></value><value name="B"><shadow type="math_number" id="D0MDSMCwQu97pv@vJc+i"><field name="NUM">20</field></shadow></value></block></value></block></statement></block></statement></block></xml>